(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7070],{27484:function(t){t.exports=function(){"use strict";var t=1e3,e=6e4,n=36e5,r="millisecond",i="second",s="minute",u="hour",o="day",a="week",c="month",l="quarter",d="year",f="date",h="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},$=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},M={s:$,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+$(r,2,"0")+":"+$(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:d,w:a,d:o,D:f,h:u,m:s,s:i,ms:r,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",y={};y[g]=p;var x=function(t){return t instanceof Y},D=function t(e,n,r){var i;if(!e)return g;if("string"==typeof e){var s=e.toLowerCase();y[s]&&(i=s),n&&(y[s]=n,i=s);var u=e.split("-");if(!i&&u.length>1)return t(u[0])}else{var o=e.name;y[o]=e,i=o}return!r&&i&&(g=i),i||!r&&g},S=function(t,e){if(x(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new Y(n)},w=M;w.l=D,w.i=x,w.w=function(t,e){return S(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var Y=function(){function p(t){this.$L=D(t.locale,null,!0),this.parse(t)}var $=p.prototype;return $.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(v);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},$.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},$.$utils=function(){return w},$.isValid=function(){return!(this.$d.toString()===h)},$.isSame=function(t,e){var n=S(t);return this.startOf(e)<=n&&n<=this.endOf(e)},$.isAfter=function(t,e){return S(t)<this.startOf(e)},$.isBefore=function(t,e){return this.endOf(e)<S(t)},$.$g=function(t,e,n){return w.u(t)?this[e]:this.set(n,t)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(t,e){var n=this,r=!!w.u(e)||e,l=w.p(t),h=function(t,e){var i=w.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(o)},v=function(t,e){return w.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},m=this.$W,p=this.$M,$=this.$D,M="set"+(this.$u?"UTC":"");switch(l){case d:return r?h(1,0):h(31,11);case c:return r?h(1,p):h(0,p+1);case a:var g=this.$locale().weekStart||0,y=(m<g?m+7:m)-g;return h(r?$-y:$+(6-y),p);case o:case f:return v(M+"Hours",0);case u:return v(M+"Minutes",1);case s:return v(M+"Seconds",2);case i:return v(M+"Milliseconds",3);default:return this.clone()}},$.endOf=function(t){return this.startOf(t,!1)},$.$set=function(t,e){var n,a=w.p(t),l="set"+(this.$u?"UTC":""),h=(n={},n[o]=l+"Date",n[f]=l+"Date",n[c]=l+"Month",n[d]=l+"FullYear",n[u]=l+"Hours",n[s]=l+"Minutes",n[i]=l+"Seconds",n[r]=l+"Milliseconds",n)[a],v=a===o?this.$D+(e-this.$W):e;if(a===c||a===d){var m=this.clone().set(f,1);m.$d[h](v),m.init(),this.$d=m.set(f,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](v);return this.init(),this},$.set=function(t,e){return this.clone().$set(t,e)},$.get=function(t){return this[w.p(t)]()},$.add=function(r,l){var f,h=this;r=Number(r);var v=w.p(l),m=function(t){var e=S(h);return w.w(e.date(e.date()+Math.round(t*r)),h)};if(v===c)return this.set(c,this.$M+r);if(v===d)return this.set(d,this.$y+r);if(v===o)return m(1);if(v===a)return m(7);var p=(f={},f[s]=e,f[u]=n,f[i]=t,f)[v]||1,$=this.$d.getTime()+r*p;return w.w($,this)},$.subtract=function(t,e){return this.add(-1*t,e)},$.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=w.z(this),s=this.$H,u=this.$m,o=this.$M,a=n.weekdays,c=n.months,l=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return w.s(s%12||12,t,"0")},f=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},v={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:w.s(o+1,2,"0"),MMM:l(n.monthsShort,o,c,3),MMMM:l(c,o),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,a,2),ddd:l(n.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(s),HH:w.s(s,2,"0"),h:d(1),hh:d(2),a:f(s,u,!0),A:f(s,u,!1),m:String(u),mm:w.s(u,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:i};return r.replace(m,(function(t,e){return e||v[t]||i.replace(":","")}))},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(r,f,h){var v,m=w.p(f),p=S(r),$=(p.utcOffset()-this.utcOffset())*e,M=this-p,g=w.m(this,p);return g=(v={},v[d]=g/12,v[c]=g,v[l]=g/3,v[a]=(M-$)/6048e5,v[o]=(M-$)/864e5,v[u]=M/n,v[s]=M/e,v[i]=M/t,v)[m]||M,h?g:w.a(g)},$.daysInMonth=function(){return this.endOf(c).$D},$.$locale=function(){return y[this.$L]},$.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=D(t,e,!0);return r&&(n.$L=r),n},$.clone=function(){return w.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},p}(),_=Y.prototype;return S.prototype=_,[["$ms",r],["$s",i],["$m",s],["$H",u],["$W",o],["$M",c],["$y",d],["$D",f]].forEach((function(t){_[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),S.extend=function(t,e){return t.$i||(t(e,Y,S),t.$i=!0),S},S.locale=D,S.isDayjs=x,S.unix=function(t){return S(1e3*t)},S.en=y[g],S.Ls=y,S.p={},S}()},56176:function(t){t.exports=function(){"use strict";var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(e,n,r){var i=n.prototype,s=i.format;r.en.formats=t,i.format=function(e){void 0===e&&(e="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,r=function(e,n){return e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,r,i){var s=i&&i.toUpperCase();return r||n[i]||t[i]||n[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))}(e,void 0===n?{}:n);return s.call(this,r)}}}()},27161:function(t,e,n){"use strict";var r=n(85893),i=n(67294),s=n(11163);e.Z=function(t){var e=t.path,n=void 0===e?"/":e,u=(0,i.useState)(3),o=u[0],a=u[1],c=(0,s.useRouter)();return(0,i.useEffect)((function(){var t=setInterval((function(){a(o-1)}),1e3);return 0===o&&(clearInterval(t),c.push(n)),function(){return clearInterval(t)}}),[o]),(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,r.jsxs)("p",{children:["Redirecting in ",o," seconds"]})})}},67160:function(t,e,n){"use strict";var r=n(85893),i=n(67294),s=n(34146),u=n(79531),o=n(71577),a=u.Z.TextArea;e.Z=function(t){var e=t.comment,n=t.setComment,u=t.handleSubmit,c=t.loading,l=(0,i.useContext)(s.V),d=l[0];l[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),(0,r.jsx)(a,{value:e,onChange:function(t){return n(t.target.value)},placeholder:"Write a comment...",rows:"4",disabled:null===(null===d||void 0===d?void 0:d.user)&&""===(null===d||void 0===d?void 0:d.token),maxLength:200}),(0,r.jsx)(o.Z,{onClick:u,loading:c,disabled:""===e,style:{marginTop:4},type:"primary",children:"Post"})]})}},82765:function(t,e,n){"use strict";var r=n(34051),i=n.n(r),s=n(85893),u=n(67294),o=n(71230),a=n(15746),c=n(79531),l=n(97259),d=n(14538),f=n(41664),h=n(9669),v=n.n(h),m=n(11163),p=n(34146),$=n(27484),M=n.n($),g=n(56176),y=n.n(g),x=n(67160);function D(t,e,n,r,i,s,u){try{var o=t[s](u),a=o.value}catch(c){return void n(c)}o.done?e(a):Promise.resolve(a).then(r,i)}function S(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var s=t.apply(e,n);function u(t){D(s,r,i,u,o,"next",t)}function o(t){D(s,r,i,u,o,"throw",t)}u(void 0)}))}}M().extend(y()),e.Z=function(){var t=(0,u.useContext)(p.V),e=t[0],n=(t[1],(0,u.useState)([])),r=n[0],h=n[1],$=(0,u.useState)(!1),g=$[0],y=$[1],D=(0,u.useState)(""),w=D[0],Y=D[1],_=(0,u.useState)({}),L=_[0],C=_[1],j=(0,u.useState)(""),k=j[0],O=j[1],b=(0,u.useState)(!1),T=b[0],Z=b[1];(0,m.useRouter)(),(0,u.useEffect)((function(){(null===e||void 0===e?void 0:e.token)&&I()}),[null===e||void 0===e?void 0:e.token]);var I=function(){var t=S(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v().get("/user-comments");case 3:e=t.sent.data,h(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),A=function(){var t=S(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,window.confirm("Are you sure you want to delete?")){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,v().delete("/comment/".concat(e._id));case 6:(null===(n=t.sent.data)||void 0===n?void 0:n.ok)&&(h(r.filter((function(t){return t._id!==e._id}))),setTotal(total-1),toast.success("Comment deleted successfully")),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),H=function(){var t=S(i().mark((function t(){var e,n,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,y(!0),t.next=4,v().put("/comment/".concat(L._id),{content:k});case 4:e=t.sent.data,s=(n=r).findIndex((function(t){return t._id===L._id})),n[s].content=e.content,h(n),Z(!1),y(!1),C({}),toast.success("Comment updated"),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0),Z(!1);case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}}(),W=null===r||void 0===r?void 0:r.filter((function(t){return t.content.toLowerCase().includes(w)}));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{children:(0,s.jsxs)(a.Z,{span:24,children:[(0,s.jsxs)("h1",{style:{marginTop:15},children:[null===r||void 0===r?void 0:r.length," Comments"]}),(0,s.jsx)(c.Z,{placeholder:"Search",type:"search",value:w,onChange:function(t){return Y(t.target.value.toLowerCase())}}),(0,s.jsx)(l.ZP,{itemLayout:"horizontal",dataSource:W,renderItem:function(t){var e,n,r;return(0,s.jsx)(l.ZP.Item,{actions:[(0,s.jsx)(f.default,{href:"/post/".concat(null===t||void 0===t||null===(e=t.postId)||void 0===e?void 0:e.slug,"#").concat(t._id),children:(0,s.jsx)("a",{children:"view"})}),(0,s.jsx)("a",{onClick:function(){C(t),Z(!0),O(t.content)},children:"edit"}),(0,s.jsx)("a",{onClick:function(){return A(t)},children:"delete"})],children:(0,s.jsx)(l.ZP.Item.Meta,{description:"On ".concat(null===t||void 0===t||null===(n=t.postId)||void 0===n?void 0:n.title," | ").concat(null===t||void 0===t||null===(r=t.postedBy)||void 0===r?void 0:r.name," | ").concat(M()(t.createdAt).format("L LT")),title:t.content})})}})]})}),(0,s.jsx)(o.Z,{children:(0,s.jsx)(a.Z,{span:24,children:(0,s.jsx)(d.Z,{visible:T,title:"Update comment",onOk:function(){return Z(!1)},onCancel:function(){return Z(!1)},footer:null,children:(0,s.jsx)(x.Z,{handleSubmit:H,comment:k,setComment:O,loading:g})})})})]})}}}]);