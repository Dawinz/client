(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8444],{69980:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(1413),a=t(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M766.4 744.3c43.7 0 79.4-36.2 79.4-80.5 0-53.5-79.4-140.8-79.4-140.8S687 610.3 687 663.8c0 44.3 35.7 80.5 79.4 80.5zm-377.1-44.1c7.1 7.1 18.6 7.1 25.6 0l256.1-256c7.1-7.1 7.1-18.6 0-25.6l-256-256c-.6-.6-1.3-1.2-2-1.7l-78.2-78.2a9.11 9.11 0 00-12.8 0l-48 48a9.11 9.11 0 000 12.8l67.2 67.2-207.8 207.9c-7.1 7.1-7.1 18.6 0 25.6l255.9 256zm12.9-448.6l178.9 178.9H223.4l178.8-178.9zM904 816H120c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8z"}}]},name:"bg-colors",theme:"outlined"},i=t(42135),s=function(e,n){return a.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:c}))};s.displayName="BgColorsOutlined";var o=a.forwardRef(s)},88916:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(1413),a=t(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 248H728l-32.4-90.8a32.07 32.07 0 00-30.2-21.2H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 248H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V328c0-44.2-35.8-80-80-80zm8 536c0 4.4-3.6 8-8 8H160c-4.4 0-8-3.6-8-8V328c0-4.4 3.6-8 8-8h186.7l17.1-47.8 22.9-64.2h250.5l22.9 64.2 17.1 47.8H864c4.4 0 8 3.6 8 8v456zM512 384c-88.4 0-160 71.6-160 160s71.6 160 160 160 160-71.6 160-160-71.6-160-160-160zm0 256c-53 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96z"}}]},name:"camera",theme:"outlined"},i=t(42135),s=function(e,n){return a.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:c}))};s.displayName="CameraOutlined";var o=a.forwardRef(s)},86548:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(1413),a=t(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},i=t(42135),s=function(e,n){return a.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:c}))};s.displayName="EditOutlined";var o=a.forwardRef(s)},57184:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(1413),a=t(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M878.3 392.1L631.9 145.7c-6.5-6.5-15-9.7-23.5-9.7s-17 3.2-23.5 9.7L423.8 306.9c-12.2-1.4-24.5-2-36.8-2-73.2 0-146.4 24.1-206.5 72.3a33.23 33.23 0 00-2.7 49.4l181.7 181.7-215.4 215.2a15.8 15.8 0 00-4.6 9.8l-3.4 37.2c-.9 9.4 6.6 17.4 15.9 17.4.5 0 1 0 1.5-.1l37.2-3.4c3.7-.3 7.2-2 9.8-4.6l215.4-215.4 181.7 181.7c6.5 6.5 15 9.7 23.5 9.7 9.7 0 19.3-4.2 25.9-12.4 56.3-70.3 79.7-158.3 70.2-243.4l161.1-161.1c12.9-12.8 12.9-33.8 0-46.8zM666.2 549.3l-24.5 24.5 3.8 34.4a259.92 259.92 0 01-30.4 153.9L262 408.8c12.9-7.1 26.3-13.1 40.3-17.9 27.2-9.4 55.7-14.1 84.7-14.1 9.6 0 19.3.5 28.9 1.6l34.4 3.8 24.5-24.5L608.5 224 800 415.5 666.2 549.3z"}}]},name:"pushpin",theme:"outlined"},i=t(42135),s=function(e,n){return a.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:c}))};s.displayName="PushpinOutlined";var o=a.forwardRef(s)},80275:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(1413),a=t(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M759 335c0-137-111-248-248-248S263 198 263 335c0 82.8 40.6 156.2 103 201.2-.4.2-.7.3-.9.4-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00136 874.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C356 614.2 431 583 511 583c137 0 248-111 248-248zM511 507c-95 0-172-77-172-172s77-172 172-172 172 77 172 172-77 172-172 172zm105 221h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H703.5l47.2-60.1a8.1 8.1 0 001.7-4.9c0-4.4-3.6-8-8-8h-72.6c-4.9 0-9.5 2.3-12.6 6.1l-68.5 87.1c-4.4 5.6-6.8 12.6-6.8 19.8.1 17.7 14.4 32 32.1 32zm240 64H592c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h176.5l-47.2 60.1a8.1 8.1 0 00-1.7 4.9c0 4.4 3.6 8 8 8h72.6c4.9 0 9.5-2.3 12.6-6.1l68.5-87.1c4.4-5.6 6.8-12.6 6.8-19.8-.1-17.7-14.4-32-32.1-32z"}}]},name:"user-switch",theme:"outlined"},i=t(42135),s=function(e,n){return a.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:c}))};s.displayName="UserSwitchOutlined";var o=a.forwardRef(s)},33134:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/categories",function(){return t(60815)}])},27161:function(e,n,t){"use strict";var r=t(85893),a=t(67294),c=t(11163);n.Z=function(e){var n=e.path,t=void 0===n?"/":n,i=(0,a.useState)(3),s=i[0],o=i[1],l=(0,c.useRouter)();return(0,a.useEffect)((function(){var e=setInterval((function(){o(s-1)}),1e3);return 0===s&&(clearInterval(e),l.push(t)),function(){return clearInterval(e)}}),[s]),(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,r.jsxs)("p",{children:["Redirecting in ",s," seconds"]})})}},21133:function(e,n,t){"use strict";t.d(n,{Z:function(){return A}});var r=t(34051),a=t.n(r),c=t(85893),i=t(67294),s=t(97183),o=t(68157),l=t(41664),u=t(61715),d=t(34146),f=t(42952),m=t(57184),h=t(88916),v=t(71255),p=t(80275),x=t(87547),j=t(69980),y=o.Z.SubMenu,g=s.Z.Sider,Z=function(){var e,n,t=(0,i.useContext)(d.V),r=t[0],a=(t[1],(0,i.useState)(!1)),s=a[0],Z=a[1],w=(0,i.useState)(""),b=w[0],C=w[1],N=(0,u.Lm)();(0,i.useEffect)((function(){C(window.location.pathname)}),[window.location.pathname]),(0,i.useEffect)((function(){N<800?Z(!0):N>800&&Z(!1)}),[N<800]);var S=function(e){return"".concat(b===e&&"active")};return(0,c.jsx)(g,{collapsible:!0,collapsed:s,onCollapse:function(){return Z(!s)},children:(0,c.jsxs)(o.Z,{defaultOpenKeys:["2","6","10"],mode:"inline",inlineCollapsed:s,children:[(0,c.jsx)(o.Z.Item,{icon:(0,c.jsx)(f.Z,{}),children:(0,c.jsx)(l.default,{href:"/admin",children:(0,c.jsx)("a",{className:S("/admin"),children:"Dashboard"})})},"1"),(0,c.jsxs)(y,{icon:(0,c.jsx)(m.Z,{}),title:"Posts",children:[(0,c.jsx)(o.Z.Item,{children:(0,c.jsx)(l.default,{href:"/admin/posts",children:(0,c.jsx)("a",{className:S("/admin/posts"),children:"All Posts"})})},"3"),(0,c.jsx)(o.Z.Item,{children:(0,c.jsx)(l.default,{href:"/admin/posts/new",children:(0,c.jsx)("a",{className:S("/admin/posts/new"),children:"Add New"})})},"4"),(0,c.jsx)(o.Z.Item,{children:(0,c.jsx)(l.default,{href:"/admin/categories",children:(0,c.jsx)("a",{className:S("/admin/categories"),children:"Categories"})})},"5")]},"2"),(0,c.jsxs)(y,{icon:(0,c.jsx)(h.Z,{}),title:"Media",children:[(0,c.jsx)(o.Z.Item,{children:(0,c.jsx)(l.default,{href:"/admin/media/library",children:(0,c.jsx)("a",{className:S("/admin/media/library"),children:"Library"})})},"7"),(0,c.jsx)(o.Z.Item,{children:(0,c.jsx)(l.default,{href:"/admin/media/new",children:(0,c.jsx)("a",{className:S("/admin/media/new"),children:"Add New"})})},"8")]},"6"),(0,c.jsx)(o.Z.Item,{icon:(0,c.jsx)(v.Z,{}),children:(0,c.jsx)(l.default,{href:"/admin/comments",children:(0,c.jsx)("a",{className:S("/admin/comments"),children:"Comments"})})},"9"),(0,c.jsxs)(y,{icon:(0,c.jsx)(p.Z,{}),title:"Users",children:[(0,c.jsx)(o.Z.Item,{children:(0,c.jsx)(l.default,{href:"/admin/users",children:(0,c.jsx)("a",{className:S("/admin/users"),children:"All Users"})})},"11"),(0,c.jsx)(o.Z.Item,{children:(0,c.jsx)(l.default,{href:"/admin/users/new",children:(0,c.jsx)("a",{className:S("/admin/users/new"),children:"Add New"})})},"12")]},"10"),(0,c.jsx)(o.Z.Item,{icon:(0,c.jsx)(x.Z,{}),children:(0,c.jsx)(l.default,{href:"/admin/".concat(null===r||void 0===r||null===(e=r.user)||void 0===e?void 0:e._id),children:(0,c.jsx)("a",{className:S("/admin/".concat(null===r||void 0===r||null===(n=r.user)||void 0===n?void 0:n._id)),children:"Profile"})})},"13"),(0,c.jsx)(o.Z.Item,{icon:(0,c.jsx)(j.Z,{}),children:(0,c.jsx)(l.default,{href:"/admin/customize",children:(0,c.jsx)("a",{className:S("/admin/customize"),children:"Customize"})})},"14")]})})},w=t(11163),b=t(9669),C=t.n(b),N=t(27161);function S(e,n,t,r,a,c,i){try{var s=e[c](i),o=s.value}catch(l){return void t(l)}s.done?n(o):Promise.resolve(o).then(r,a)}var I=s.Z.Content;var A=function(e){var n=e.children,t=(0,i.useContext)(d.V),r=t[0],o=(t[1],(0,i.useState)(!0)),l=o[0],u=o[1],f=(0,w.useRouter)();(0,i.useEffect)((function(){(null===r||void 0===r?void 0:r.token)&&m()}),[null===r||void 0===r?void 0:r.token]);var m=function(){var e,n=(e=a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C().get("/current-admin");case 3:e.sent.data,u(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),f.push("/");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var n=this,t=arguments;return new Promise((function(r,a){var c=e.apply(n,t);function i(e){S(c,r,a,i,s,"next",e)}function s(e){S(c,r,a,i,s,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return l?(0,c.jsx)(N.Z,{}):(0,c.jsxs)(s.Z,{children:[(0,c.jsx)(Z,{}),(0,c.jsx)(s.Z,{children:(0,c.jsx)(I,{style:{padding:"10px"},children:n})})]})}},60815:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return k}});var r=t(34051),a=t.n(r),c=t(85893),i=t(67294),s=t(97183),o=t(21133),l=t(44496),u=t(71230),d=t(15746),f=t(79531),m=t(71577),h=t(97259),v=t(86548),p=t(9669),x=t.n(p),j=t(74931),y=t(14538),g=function(e){var n=e.visible,t=e.setVisible,r=e.handleUpdate,a=e.updatingCategory;return(0,c.jsx)(y.Z,{title:"Update category",visible:n,footer:null,onCancel:function(){return t(!1)},children:(0,c.jsxs)(l.Z,{onFinish:r,fields:[{name:["name"],value:a.name}],children:[(0,c.jsx)(l.Z.Item,{name:"name",children:(0,c.jsx)(f.Z,{prefix:(0,c.jsx)(v.Z,{className:"site-form-item-icon"}),placeholder:"Give it a name"})}),(0,c.jsx)(m.Z,{type:"primary",htmlType:"submit",children:"Submit"})]})})},Z=t(36345);function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function b(e,n,t,r,a,c,i){try{var s=e[c](i),o=s.value}catch(l){return void t(l)}s.done?n(o):Promise.resolve(o).then(r,a)}function C(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var c=e.apply(n,t);function i(e){b(c,r,a,i,s,"next",e)}function s(e){b(c,r,a,i,s,"throw",e)}i(void 0)}))}}function N(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){N(e,n,t[n])}))}return e}function I(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,c=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(c.push(r.value),!n||c.length!==n);i=!0);}catch(o){s=!0,a=o}finally{try{i||null==t.return||t.return()}finally{if(s)throw a}}return c}}(e,n)||z(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,n){if(e){if("string"===typeof e)return w(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w(e,n):void 0}}s.Z.Content,s.Z.Sider;var k=function(){var e=(0,i.useContext)(Z.W),n=e[0],t=e[1],r=(0,i.useState)(!1),s=r[0],p=r[1],y=(0,i.useState)({}),w=y[0],b=y[1],N=(0,i.useState)(!1),z=N[0],k=N[1],E=I(l.Z.useForm(),1)[0],O=n.categories;(0,i.useEffect)((function(){_()}),[]);var _=function(){var e=C(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x().get("/categories");case 3:n=e.sent.data,t((function(e){return S({},e,{categories:n})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=C(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,x().post("/category",n);case 4:r=e.sent.data,t((function(e){return S({},e,{categories:[r].concat(A(O))})})),j.Am.success("Category created successfully"),p(!1),E.resetFields(["name"]),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),j.Am.error("Category create failed"),p(!1);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}(),M=function(){var e=C(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x().delete("/category/".concat(n.slug));case 3:r=e.sent.data,t((function(e){return S({},e,{categories:O.filter((function(e){return e._id!==r._id}))})})),j.Am.success("Category deleted successfully"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),j.Am.error("Category delete failed");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),L=function(){var e=C(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(n),k(!0);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),H=function(){var e=C(a().mark((function e(n){var r,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x().put("/category/".concat(w.slug),n);case 3:r=e.sent.data,c=O.map((function(e){return e._id===r._id?r:e})),t((function(e){return S({},e,{categories:c})})),j.Am.success("Categrory updated successfully"),k(!1),b({}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),j.Am.error("Category update failed");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}();return(0,c.jsx)(o.Z,{children:(0,c.jsxs)(u.Z,{children:[(0,c.jsxs)(d.Z,{xs:22,sm:22,lg:10,offset:1,children:[(0,c.jsx)("h1",{children:"Categories"}),(0,c.jsx)("p",{children:"Add new category"}),(0,c.jsxs)(l.Z,{onFinish:P,form:E,children:[(0,c.jsx)(l.Z.Item,{name:"name",children:(0,c.jsx)(f.Z,{prefix:(0,c.jsx)(v.Z,{className:"site-form-item-icon"}),placeholder:"Give it a name"})}),(0,c.jsx)(m.Z,{loading:s,type:"primary",htmlType:"submit",children:"Submit"})]})]}),(0,c.jsx)(d.Z,{xs:22,sm:22,lg:10,offset:1,children:(0,c.jsx)(h.ZP,{itemLayout:"horizontal",dataSource:O,renderItem:function(e){return(0,c.jsx)(h.ZP.Item,{actions:[(0,c.jsx)("a",{onClick:function(){return L(e)},children:"edit"}),(0,c.jsx)("a",{onClick:function(){return M(e)},children:"delete"})],children:(0,c.jsx)(h.ZP.Item.Meta,{title:e.name})})}})}),(0,c.jsx)(g,{visible:z,setVisible:k,handleUpdate:H,updatingCategory:w})]})})}}},function(e){e.O(0,[8773,8874,6994,9835,8231,4209,7259,8973,4496,9774,2888,179],(function(){return n=33134,e(e.s=n);var n}));var n=e.O();_N_E=n}]);