(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9568],{88916:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1413),c=n(67294),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 248H728l-32.4-90.8a32.07 32.07 0 00-30.2-21.2H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 248H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V328c0-44.2-35.8-80-80-80zm8 536c0 4.4-3.6 8-8 8H160c-4.4 0-8-3.6-8-8V328c0-4.4 3.6-8 8-8h186.7l17.1-47.8 22.9-64.2h250.5l22.9 64.2 17.1 47.8H864c4.4 0 8 3.6 8 8v456zM512 384c-88.4 0-160 71.6-160 160s71.6 160 160 160 160-71.6 160-160-71.6-160-160-160zm0 256c-53 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96z"}}]},name:"camera",theme:"outlined"},a=n(42135),i=function(e,t){return c.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:u}))};i.displayName="CameraOutlined";var s=c.forwardRef(i)},71255:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1413),c=n(67294),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M573 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40zm-280 0c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}},{tag:"path",attrs:{d:"M894 345a343.92 343.92 0 00-189-130v.1c-17.1-19-36.4-36.5-58-52.1-163.7-119-393.5-82.7-513 81-96.3 133-92.2 311.9 6 439l.8 132.6c0 3.2.5 6.4 1.5 9.4a31.95 31.95 0 0040.1 20.9L309 806c33.5 11.9 68.1 18.7 102.5 20.6l-.5.4c89.1 64.9 205.9 84.4 313 49l127.1 41.4c3.2 1 6.5 1.6 9.9 1.6 17.7 0 32-14.3 32-32V753c88.1-119.6 90.4-284.9 1-408zM323 735l-12-5-99 31-1-104-8-9c-84.6-103.2-90.2-251.9-11-361 96.4-132.2 281.2-161.4 413-66 132.2 96.1 161.5 280.6 66 412-80.1 109.9-223.5 150.5-348 102zm505-17l-8 10 1 104-98-33-12 5c-56 20.8-115.7 22.5-171 7l-.2-.1A367.31 367.31 0 00729 676c76.4-105.3 88.8-237.6 44.4-350.4l.6.4c23 16.5 44.1 37.1 62 62 72.6 99.6 68.5 235.2-8 330z"}},{tag:"path",attrs:{d:"M433 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}}]},name:"comment",theme:"outlined"},a=n(42135),i=function(e,t){return c.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:u}))};i.displayName="CommentOutlined";var s=c.forwardRef(i)},24969:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1413),c=n(67294),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},a=n(42135),i=function(e,t){return c.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:u}))};i.displayName="PlusOutlined";var s=c.forwardRef(i)},57184:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1413),c=n(67294),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M878.3 392.1L631.9 145.7c-6.5-6.5-15-9.7-23.5-9.7s-17 3.2-23.5 9.7L423.8 306.9c-12.2-1.4-24.5-2-36.8-2-73.2 0-146.4 24.1-206.5 72.3a33.23 33.23 0 00-2.7 49.4l181.7 181.7-215.4 215.2a15.8 15.8 0 00-4.6 9.8l-3.4 37.2c-.9 9.4 6.6 17.4 15.9 17.4.5 0 1 0 1.5-.1l37.2-3.4c3.7-.3 7.2-2 9.8-4.6l215.4-215.4 181.7 181.7c6.5 6.5 15 9.7 23.5 9.7 9.7 0 19.3-4.2 25.9-12.4 56.3-70.3 79.7-158.3 70.2-243.4l161.1-161.1c12.9-12.8 12.9-33.8 0-46.8zM666.2 549.3l-24.5 24.5 3.8 34.4a259.92 259.92 0 01-30.4 153.9L262 408.8c12.9-7.1 26.3-13.1 40.3-17.9 27.2-9.4 55.7-14.1 84.7-14.1 9.6 0 19.3.5 28.9 1.6l34.4 3.8 24.5-24.5L608.5 224 800 415.5 666.2 549.3z"}}]},name:"pushpin",theme:"outlined"},a=n(42135),i=function(e,t){return c.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:u}))};i.displayName="PushpinOutlined";var s=c.forwardRef(i)},61715:function(e,t,n){"use strict";n.d(t,{Lm:function(){return f}});var r=n(67294);var c=e=>{const t=r.useRef(e);return r.useEffect((()=>{t.current=e})),t};const u=(e,t=100,n=!1)=>{const u=c(e),a=r.useRef(),i=[t,n,u];function s(){a.current&&clearTimeout(a.current),a.current=void 0}function o(){a.current=void 0}return r.useEffect((()=>s),i),r.useCallback((function(){const e=arguments,{current:r}=a;if(void 0===r&&n)return a.current=setTimeout(o,t),u.current.apply(null,e);r&&clearTimeout(r),a.current=setTimeout((()=>{a.current=void 0,u.current.apply(null,e)}),t)}),i)};var a=function(e,t,n,c){const u=r.useRef(n),a=r.useRef(c);r.useEffect((()=>{u.current=n,a.current=c})),r.useEffect((()=>{const n=e&&"current"in e?e.current:e;if(!n)return;let r=0;function c(...e){r||u.current.apply(this,e)}n.addEventListener(t,c);const i=a.current;return()=>{r=1,n.removeEventListener(t,c),i&&i()}}),[e,t])};const i={},s="undefined"===typeof window?null:window,o=()=>[document.documentElement.clientWidth,document.documentElement.clientHeight],l=(e=i)=>{const{wait:t,leading:n,initialWidth:c=0,initialHeight:l=0}=e,[f,d]=((e,t,n)=>{const c=r.useState(e);return[c[0],u(c[1],t,n)]})("undefined"===typeof document?[c,l]:o,t,n),h=()=>d(o);return a(s,"resize",h),a(s,"orientationchange",h),f},f=e=>l(e)[0]},57838:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(97685),c=n(67294);function u(){var e=c.useReducer((function(e){return e+1}),0);return(0,r.Z)(e,2)[1]}},9708:function(e,t,n){"use strict";n.d(t,{zl:function(){return d},Zu:function(){return h},Ff:function(){return v}});var r=n(4942),c=n(67294),u=n(89739),a=n(21640),i=n(4340),s=n(50888),o=n(94184),l=n.n(o),f=((0,n(93355).b)("warning","error",""),{success:u.Z,warning:a.Z,error:i.Z,validating:s.Z}),d=function(e,t){var n=t&&f[t];return n?c.createElement("span",{className:"".concat(e,"-feedback-icon")},c.createElement(n,null)):null};function h(e,t,n){var c;return l()((c={},(0,r.Z)(c,"".concat(e,"-status-success"),"success"===t),(0,r.Z)(c,"".concat(e,"-status-warning"),"warning"===t),(0,r.Z)(c,"".concat(e,"-status-error"),"error"===t),(0,r.Z)(c,"".concat(e,"-status-validating"),"validating"===t),(0,r.Z)(c,"".concat(e,"-has-feedback"),n),c))}var v=function(e,t){return t||e}},65223:function(e,t,n){"use strict";n.d(t,{q3:function(){return a},qI:function(){return i},RV:function(){return s},Rk:function(){return o},NV:function(){return l},ap:function(){return f}});var r=n(67294),c=n(98423),u=n(2156),a=r.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),i=r.createContext(null),s=function(e){var t=(0,c.Z)(e,["prefixCls"]);return r.createElement(u.RV,t)},o=r.createContext({prefixCls:""}),l=r.createContext({}),f=function(e){var t=e.children,n=(0,r.useMemo)((function(){return{}}),[]);return r.createElement(l.Provider,{value:n},t)}},97183:function(e,t,n){"use strict";var r=n(2897),c=n(7293),u=r.ZP;u.Header=r.h4,u.Footer=r.$_,u.Content=r.VY,u.Sider=c.Z,t.Z=u},54227:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/author/posts",function(){return n(95221)}])},27161:function(e,t,n){"use strict";var r=n(85893),c=n(67294),u=n(11163);t.Z=function(e){var t=e.path,n=void 0===t?"/":t,a=(0,c.useState)(3),i=a[0],s=a[1],o=(0,u.useRouter)();return(0,c.useEffect)((function(){var e=setInterval((function(){s(i-1)}),1e3);return 0===i&&(clearInterval(e),o.push(n)),function(){return clearInterval(e)}}),[i]),(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,r.jsxs)("p",{children:["Redirecting in ",i," seconds"]})})}},88446:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r=n(34051),c=n.n(r),u=n(85893),a=n(67294),i=n(97183),s=n(68157),o=n(41664),l=n(61715),f=n(34146),d=n(42952),h=n(57184),v=n(88916),p=n(71255),m=n(87547),x=s.Z.SubMenu,Z=i.Z.Sider,j=function(){var e,t,n=(0,a.useContext)(f.V),r=n[0],c=(n[1],(0,a.useState)(!1)),i=c[0],j=c[1],w=(0,a.useState)(""),g=w[0],y=w[1],b=(0,l.Lm)();(0,a.useEffect)((function(){y(window.location.pathname)}),[window.location.pathname]),(0,a.useEffect)((function(){b<800?j(!0):b>800&&j(!1)}),[b<800]);var E=function(e){return"".concat(g===e&&"active")};return(0,u.jsx)(Z,{collapsible:!0,collapsed:i,onCollapse:function(){return j(!i)},children:(0,u.jsxs)(s.Z,{defaultOpenKeys:["2","6","10"],mode:"inline",inlineCollapsed:i,children:[(0,u.jsx)(s.Z.Item,{icon:(0,u.jsx)(d.Z,{}),children:(0,u.jsx)(o.default,{href:"/author",children:(0,u.jsx)("a",{className:E("/author"),children:"Dashboard"})})},"1"),(0,u.jsxs)(x,{icon:(0,u.jsx)(h.Z,{}),title:"Posts",children:[(0,u.jsx)(s.Z.Item,{children:(0,u.jsx)(o.default,{href:"/author/posts",children:(0,u.jsx)("a",{className:E("/author/posts"),children:"All Posts"})})},"3"),(0,u.jsx)(s.Z.Item,{children:(0,u.jsx)(o.default,{href:"/author/posts/new",children:(0,u.jsx)("a",{className:E("/author/posts/new"),children:"Add New"})})},"4")]},"2"),(0,u.jsxs)(x,{icon:(0,u.jsx)(v.Z,{}),title:"Media",children:[(0,u.jsx)(s.Z.Item,{children:(0,u.jsx)(o.default,{href:"/author/media/library",children:(0,u.jsx)("a",{className:E("/author/media/library"),children:"Library"})})},"7"),(0,u.jsx)(s.Z.Item,{children:(0,u.jsx)(o.default,{href:"/author/media/new",children:(0,u.jsx)("a",{className:E("/author/media/new"),children:"Add New"})})},"8")]},"6"),(0,u.jsx)(s.Z.Item,{icon:(0,u.jsx)(p.Z,{}),children:(0,u.jsx)(o.default,{href:"/author/comments",children:(0,u.jsx)("a",{className:E("/author/comments"),children:"Comments"})})},"9"),(0,u.jsx)(s.Z.Item,{icon:(0,u.jsx)(m.Z,{}),children:(0,u.jsx)(o.default,{href:"/author/".concat(null===r||void 0===r||null===(e=r.user)||void 0===e?void 0:e._id),children:(0,u.jsx)("a",{className:E("/author/".concat(null===r||void 0===r||null===(t=r.user)||void 0===t?void 0:t._id)),children:"Profile"})})},"13")]})})},w=n(11163),g=n(9669),y=n.n(g),b=n(27161);function E(e,t,n,r,c,u,a){try{var i=e[u](a),s=i.value}catch(o){return void n(o)}i.done?t(s):Promise.resolve(s).then(r,c)}var k=i.Z.Content;var C=function(e){var t=e.children,n=(0,a.useContext)(f.V),r=n[0],s=(n[1],(0,a.useState)(!0)),o=s[0],l=s[1],d=(0,w.useRouter)();(0,a.useEffect)((function(){(null===r||void 0===r?void 0:r.token)&&h()}),[null===r||void 0===r?void 0:r.token]);var h=function(){var e,t=(e=c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y().get("/current-author");case 3:e.sent.data,l(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),d.push("/");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,n=arguments;return new Promise((function(r,c){var u=e.apply(t,n);function a(e){E(u,r,c,a,i,"next",e)}function i(e){E(u,r,c,a,i,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return o?(0,u.jsx)(b.Z,{}):(0,u.jsxs)(i.Z,{children:[(0,u.jsx)(j,{}),(0,u.jsx)(i.Z,{children:(0,u.jsx)(k,{style:{padding:"10px"},children:t})})]})}},9514:function(e,t,n){"use strict";var r=n(85893),c=n(97259);n(41664);t.Z=function(e){var t=e.posts,n=e.handleDelete,u=e.handleEdit;return(0,r.jsx)(c.ZP,{itemLayout:"horizontal",dataSource:t,renderItem:function(e){return(0,r.jsx)(c.ZP.Item,{actions:[(0,r.jsx)("a",{onClick:function(){return u(e)},children:"edit"}),(0,r.jsx)("a",{onClick:function(){return n(e)},children:"delete"})],children:(0,r.jsx)(c.ZP.Item.Meta,{title:e.title})})}})}},95221:function(e,t,n){"use strict";n.r(t);var r=n(34051),c=n.n(r),u=n(85893),a=n(67294),i=n(71230),s=n(15746),o=n(71577),l=n(88446),f=n(41664),d=n(24969),h=n(9669),v=n.n(h),p=n(36345),m=n(11163),x=n(9514);function Z(e,t,n,r,c,u,a){try{var i=e[u](a),s=i.value}catch(o){return void n(o)}i.done?t(s):Promise.resolve(s).then(r,c)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,c){var u=e.apply(t,n);function a(e){Z(u,r,c,a,i,"next",e)}function i(e){Z(u,r,c,a,i,"throw",e)}a(void 0)}))}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}t.default=function(){var e=(0,a.useContext)(p.W),t=e[0],n=e[1],r=(0,m.useRouter)(),h=t.posts;(0,a.useEffect)((function(){Z()}),[]);var Z=function(){var e=j(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v().get("/posts-by-author");case 3:t=e.sent.data,n((function(e){return g({},e,{posts:t})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=j(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.push("/author/posts/".concat(t.slug)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=j(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.confirm("Are you sure you want to delete?")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,v().delete("/post/".concat(t._id));case 6:e.sent.data.ok&&n((function(e){return g({},e,{posts:e.posts.filter((function(e){return e._id!==t._id}))})})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,u.jsx)(l.Z,{children:(0,u.jsx)(i.Z,{children:(0,u.jsxs)(s.Z,{span:24,children:[(0,u.jsx)(o.Z,{type:"primary",children:(0,u.jsx)(f.default,{href:"/author/posts/new",children:(0,u.jsxs)("a",{children:[(0,u.jsx)(d.Z,{})," Add New"]})})}),(0,u.jsxs)("h1",{style:{marginTop:15},children:[null===h||void 0===h?void 0:h.length," Posts"]}),(0,u.jsx)(x.Z,{posts:h,handleEdit:w,handleDelete:y})]})})})}}},function(e){e.O(0,[8773,8874,9835,7259,9774,2888,179],(function(){return t=54227,e(e.s=t);var t}));var t=e.O();_N_E=t}]);